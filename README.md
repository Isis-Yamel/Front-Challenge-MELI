# Front-Challenge-MELI
Server side app to search for products and check product detail

## Server

Uses typescript, express and dotenv *( For the safety of our keys )*. The **.env file** will be provided via email, to replace **.env.sample** values.

Also, concurrently is being used in the dev command to run in parallel nodemon and watch the dist file generated by typescript.


### Server commands

- `npm run start`: Run the server in "prod" mode.

- `npm run dev`: Run the server in dev mode *( If you want or need to make changes )*

- `npm run build`: Compile the ts file into valid javascript code

**Note:** To start dev env, first run `npm run build` and then `npm run dev`

## Client

Server side rendering with Next.js - React - React hooks.
The **.env file** will be provided via email. Create .env file inside **client** folder

### Comands 

- `npm run dev`: Start the client in dev mode 
- `npm run lint`: Run the linters 
- `npm run lint`: Run unit test with jest and react testing libreary (**STILL SOME SET UP NEEDED**)

**Note:** To start app, change to the client directory and run `npm run dev`

## Tech notes

Server
- I am only using the Authorization header to authenticate because a problem in the jwt set up, the idea will be to sign the api with the token. So far Authorization header is a workaround.

Client

- Frontend is completely responsive and takes into account a11y, performance and SEO 

![LightHouse audit](/public/assets/MELI.PNG)
Performance will increase on prod build because js in not being minify

- As I want the search bar to persist in each route, I make use of client side rendering to store the data retrieve from API and be consume from items route.

- Material UI is not used in the entire app because it was not originally intended to be part of the app, but to save time it was a great component library ( Used for the breadCrumb and the Card in the landing page)

## Improvements

Due to time constrains, there is some things that could be improve.

### Server side 
- Use babel for optimized production bundle and chunks (change npm scripts as well)
- Authentication middlewre with JWT
- Error handling middleware, reference here: [error middleware](https://dev.to/qbentil/how-to-write-custom-error-handler-middleware-in-expressjs-using-javascript-29j1)


### Client side 
- Use SWR for client fetch calls (for caching).
- If the app will have more icons make use of a library like fontawesome or react/icons
- Image fix sizes per breakpoint and aspect ratios ( defined with design team ). Right now the aspect ratio is not mantain

## Testing

- **Backend Unit Test**: Set up made with jest. Pending mock the cross-fetch library
- **Frontend Unit Test**: Set up with Jest and React Testing Library. Pending moduleNameMapper is not working
- **E2E Test**: The idea will be use Cypress. Not done